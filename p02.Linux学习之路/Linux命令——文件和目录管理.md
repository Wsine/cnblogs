# Linux命令——文件和目录管理

## 基本命令

### 命令ls

> 作用：显示目录下的文件和文件夹
> 说明：默认显示当前目录，可跟路径参数
> 参数：`-a`，显示隐藏目录
> 参数：`-l`，显示文件权限
> 参数：`-d`，显示文件最后修改时间


### 命令cd

> 作用：变更用户所在的目录
> 说明：后面跟目录名，绝对路径或相对路径；`.`表示当前路径；`..`表示上一级
> 示例：`# cd /home`

### 命令pwd

> 作用：打印当前所在目录

### 命令mkdir

> 作用：创建目录
> 参数：`-p`，可创建一大串级联目录，且当创建一个已存在的目录时不会报错
> 示例：`# mkdir /tmp/test/123`

### 命令rm

> 作用：删除文件或目录
> 说明：后跟一个文件或目录
> 参数：`-r`，递归删除，常用于删除目录
> 参数：`-f`，强制删除
> 注意：`# rm -rf /`是很危险的，该命令小心使用

### 命令cp

> 作用：复制文件或目录
> 格式：`cp [选项] [来源文件] [目标文件]`
> 参数：`-r`，复制一个目录

### 命令mv

> 作用：移动文件或目录 or 重命名
> 格式：`mv [选项] [源文件或目录] [目标文件或目录]`
> 示例：`# mv aaa.txt bbb.txt /* 重命名aaa.txt为bbb.txt */`
> 示例：`# mv aaa.txt dic/ /* 移动aaa.txt到dic目录下 */`

### 命令cat

> 作用：查看一个文件的内容并显示在屏幕上
> 说明：后接文件
> 参数：`-n`，显示行号
> 参数：`-A`，显示特殊符号

### 命令tac

> 作用：同cat，倒序输出

### 命令more

> 作用：查看一个文件的内容，后面直接跟文件名
> 说明：使用空格键翻页，q键退出

### 命令less

> 作用：查看一个文件的内容，后面直接跟文件名
> 说明：使用空格键翻页，j键向下移动一行，k键向上移动一行，q键退出，/键向下搜索字符串，？键向上搜索字符串

### 命令head

> 作用：显示文件的前10行
> 参数：`-n`，后接数字，显示文件的前几行

### 命令tail

> 作用：显示文件的后10行
> 参数：`-n`，后接数字，显示文件的后几行
> 参数：`-f`，动态实时地查看文件

------

## 文件权限

```
# ls -l /etc/rc.local
lrwxrwxrwx. 1 root root 13 May 7 15:34 rc.d
```

**说明**
- 第1列
    - 第1位：描述文件类型
        - d：该文件为目录
        - -：该文件为普通文件
        - l：该文件为链接文件
        - b：该文件为块设备
        - c：该文件为串行端口设备文件
        - s：该文件为套接字文件
    - 第2~4位：所属组(user)的权限
        - w：代表可写
        - x：代表可执行
        - r：代表可读
    - 第5~7位：所属组(group)的权限
    - 第8~10位：其他非本群组(others)的权限
    - 第11位：新版本seLinux或者acl的属性
        - .：使用了seLinux context的属性
        - +：使用了acl的属性
- 第2列：表示链接占用的节点，如果是目录，该数值与目录下的子目录数量有关
- 第3列：表示该文件所属的主
- 第4列：表示该文件所属的组
- 第5列：表示该文件的大小
- 第6~8列：表示最后一次被修改的时间，分别为月份，日期，时间
- 第9列：表示文件名

**注意：**对于一个目录来说，打开这个目录即为执行这个目录，所以任何一个目录必须要有x权限才能打开并查看该目录下的内容

### 命令chown

> 作用：更改文件的所属主
> 格式：`chown [选项] [账户名] [文件名]`
> 参数：`-R`，级联更改，修改子目录及其文件
> 示例：`# chown -R user1:testgroup test`，把test目录下的文件都改成所属主为user1，所属组为testgroup

**说明**
为了方便更改文件目录，Linux使用数字替代"rwx"，具体规则为：
r = 4， w = 2， x = 1， - = 0
例如："-rwxrwx---"用数字表示就是770，具体算法为：rwx = 4 + 2 + 1 = 7
在Linux系统中，一个目录的默认权限为755，一个文件的默认权限为644

### 命令chmod

> 作用：改变用户对于文件的读写执行权限
> 格式：`chmod [选项] [权限值] [文件名]`
> 说明：可以使用u表示user，g表示group，o表示others，a表示all，=表示赋值，+表示增加，-表示减少
> 参数：`-R`，级联更改，修改子目录及其文件
> 示例：`# chmod 777 test`
> 示例：`# chmod u=rwx,og=rx test`
> 示例：`# chmod a+x test` 

------

## 查找文件

### 命令find

> 作用：查找文件
> 格式：`find [路径] [选项]`
> 参数：`-atime +n/-n`，表示访问或执行时间大于或小于n天的文件
> 参数：`-ctime +n/-n`，表示写入更改inode属性时间大于或小于n天的文件
> 参数：`-mtime +n/-n`，表示写入时间大于或小于n天的文件
> 参数：`-name filename`，表示直接查找该文件名的文件
> 参数：`-type filetype`，表示通过文件类型查找文件，fbcdls等